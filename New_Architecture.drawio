<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36" version="27.1.6">
  <diagram name="Page-1" id="yJfNnz3G1z0wKyAGFfoL">
    <mxGraphModel dx="1722" dy="2023" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="lsW1dJihJSENQzayv1aU-24" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="140" y="-87" width="170" height="92" as="geometry" />
        </mxCell>
        <mxCell id="lsW1dJihJSENQzayv1aU-17" value="" style="group" parent="lsW1dJihJSENQzayv1aU-24" vertex="1" connectable="0">
          <mxGeometry width="130" height="67" as="geometry" />
        </mxCell>
        <mxCell id="lsW1dJihJSENQzayv1aU-12" value="&lt;div&gt;&lt;u&gt;Legend&lt;/u&gt;&lt;/div&gt;&lt;div&gt;&lt;u&gt;&lt;br&gt;&lt;/u&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="lsW1dJihJSENQzayv1aU-17" vertex="1">
          <mxGeometry width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lsW1dJihJSENQzayv1aU-13" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="lsW1dJihJSENQzayv1aU-17" vertex="1">
          <mxGeometry x="10" y="27" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="lsW1dJihJSENQzayv1aU-14" value="Software" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="lsW1dJihJSENQzayv1aU-17" vertex="1">
          <mxGeometry x="30" y="17" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lsW1dJihJSENQzayv1aU-15" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="lsW1dJihJSENQzayv1aU-17" vertex="1">
          <mxGeometry x="10" y="47" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="lsW1dJihJSENQzayv1aU-16" value="Physical Node" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="lsW1dJihJSENQzayv1aU-17" vertex="1">
          <mxGeometry x="30" y="37" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lsW1dJihJSENQzayv1aU-25" value="&lt;div&gt;System Exporter&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="550" y="460" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lsW1dJihJSENQzayv1aU-26" value="&lt;div&gt;System Exporter&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="730" y="460" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lsW1dJihJSENQzayv1aU-27" value="&lt;div&gt;Power&lt;/div&gt;&lt;div&gt;Exporter&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="810" y="460" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-1" value="API for Controller&lt;div&gt;POST -&amp;gt; /run - Tries to run an experiment. Distributes&lt;br&gt;runners and begins healthchecks&lt;/div&gt;&lt;div&gt;GET -&amp;gt; / - Tells you about endpoints&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="30" width="310" height="70" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-15" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="yNnBTmPfQQXxcLFnvQE1-4" target="yNnBTmPfQQXxcLFnvQE1-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-16" value="Optional" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="yNnBTmPfQQXxcLFnvQE1-15">
          <mxGeometry x="-0.3087" y="3" relative="1" as="geometry">
            <mxPoint x="-4" y="16" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-4" value="CLI" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="-81" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-6" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=0;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="yNnBTmPfQQXxcLFnvQE1-5" target="yNnBTmPfQQXxcLFnvQE1-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-13" value="Optional" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="yNnBTmPfQQXxcLFnvQE1-6">
          <mxGeometry x="-0.0548" relative="1" as="geometry">
            <mxPoint x="4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-5" value="Web App" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="-81" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="yNnBTmPfQQXxcLFnvQE1-9" target="yNnBTmPfQQXxcLFnvQE1-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-9" value="Controller Node" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="360" y="60" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-35" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="yNnBTmPfQQXxcLFnvQE1-10" target="yNnBTmPfQQXxcLFnvQE1-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-36" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="yNnBTmPfQQXxcLFnvQE1-10" target="yNnBTmPfQQXxcLFnvQE1-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-37" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="yNnBTmPfQQXxcLFnvQE1-10" target="yNnBTmPfQQXxcLFnvQE1-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-10" value="Controller" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="540" y="80" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-20" value="The controller node is where the controller software runs.&lt;div&gt;&lt;br&gt;&lt;div&gt;The controller is responsible for initiating experiment runs. After initiating an experiment, it monitors the state of the experiment for the duration of the run. Any clients are responsible for a heartbeat thread that queries the controller for experiment statuses.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When starting, clients ensure that valid TOML has been passed in, and the controller server validates the TOML for any logic errors that would prevent a run from continuing.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The controller ensures that exporters are running on the experiment node(s) so that miscellaneous data is being collected.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The controller is responsible for starting experiments and monitoring them. When experiments complete, the controller forwards the results from the experimetns to a defined repository (by default this is on the same node).&lt;/div&gt;&lt;div&gt;Since the controller runs as a HTTP server, it allows us to write both a web app as well as a CLI for connecting to the server.&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="760" y="-81" width="465" height="310" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="yNnBTmPfQQXxcLFnvQE1-22" target="yNnBTmPfQQXxcLFnvQE1-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-22" value="Worker node" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="290" y="320" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="yNnBTmPfQQXxcLFnvQE1-23" target="lsW1dJihJSENQzayv1aU-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-23" value="Worker node" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="530" y="320" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="yNnBTmPfQQXxcLFnvQE1-24" target="lsW1dJihJSENQzayv1aU-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="yNnBTmPfQQXxcLFnvQE1-24" target="lsW1dJihJSENQzayv1aU-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-24" value="Worker node" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="320" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-25" value="&lt;div&gt;On each worker node, experiment results and metadata are written into `/srv/experimentah`. A specific directory is generated according to the ID of the experiment being run. Experiment programs are expected to write their results (using relative directories) to files, leaving stdout and stderr of logging/error messages.&lt;/div&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="420" y="560" width="330" height="127" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-32" value="&lt;div&gt;Power&lt;/div&gt;&lt;div&gt;Exporter&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="310" y="460" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yNnBTmPfQQXxcLFnvQE1-38" value="At least one of the CLI or Web App is required to use Experimentah." style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="395" y="-140" width="380" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
